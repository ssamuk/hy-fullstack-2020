{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","services/persons.js","App.js","index.js"],"names":["PersonForm","addNew","newName","handleNameChange","handleNumberChange","newNumber","onSubmit","value","onChange","type","Persons","persons","onRemove","map","key","name","number","id","onClick","Filter","baseUrl","axios","get","then","response","data","newObject","post","delete","App","useState","searchTerm","setSearchTerm","setPersons","setNewName","setNewNumber","notification","setNotification","useEffect","personService","Notification","message","className","event","target","preventDefault","n","i","length","concat","setTimeout","console","log","filter","person","match","RegExp","toBeDeleted","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b9d1f3a7.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ({addNew, newName, handleNameChange, handleNumberChange, newNumber} ) => { \n    return(\n    <form onSubmit={addNew}>\n          <div>\n            name:\n            <input value={newName} onChange={handleNameChange}/>\n          </div>  \n  \n          <div>\n            phone:\n            <input value={newNumber} onChange={handleNumberChange}/>\n          </div>\n  \n          <div><button type=\"submit\">add</button></div>\n        </form>\n    )\n  }\n\n  export default PersonForm","import React from 'react'\n\nconst Persons = ({persons, onRemove}) => {\n\n\n    return(\n      <ul >\n        {persons.map(persons =>\n        <li key={persons.name}>\n            {persons.name} {persons.number} ID: {persons.id}\n            <button onClick ={() => onRemove(persons.id)} >Delete</button>\n        </li>)}\n      </ul>\n    )\n  }\n\n  export default Persons","import React from 'react'\n\nconst Filter = ({value, onChange}) => {\n    return(\n    <div>Filter shown with\n      <input \n        value = {value} \n        onChange={onChange}>\n      </input>\n    </div>\n    )\n  }\n\n  export default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => {\n      return response.data\n    })\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\n\nexport default {getAll, create, update, remove}\n\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from '../src/components/PersonForm'\nimport Persons from '../src/components/Persons'\nimport Filter from '../src/components/Filter'\nimport personService from '../src/services/persons'\n\n\nconst App = () => {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [notification, setNotification] = useState(null)\n  \n  \n  useEffect(() => {\n    personService\n    .getAll()\n    .then(Persons => {\n      setPersons(Persons)\n    })\n  }, [])\n\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n\n  const searchTermChange = event => {\n    setSearchTerm(event.target.value)\n  }\n\n\n  const addNew = (event) => {\n    event.preventDefault()\n    const newObject = {\n      name: newName,\n      number: newNumber\n    }\n    let n = true;\n    for (let i = 0; i < persons.length; i++) {\n      if(persons[i].name === newObject.name){\n        n = false\n      }\n    }\n    if(n === true){\n      personService.create(newObject)\n      .then(Persons => {\n        setPersons(persons.concat(Persons))\n      })\n        setNewName('')\n        setNewNumber('')\n    }\n    else{\n      setNotification(`ALERT! '${newObject.name}' is allready in phonebook`)\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n  \n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleRemove = (id) => {\n    const toBeDeleted = persons.filter(person => person.id === id)\n    if(toBeDeleted.length === 1 || toBeDeleted.length === 2){\n      if (window.confirm(\"Do you really want to delete he/she\")){\n      personService\n      .remove(id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== id))\n      })\n    }\n  }\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification}/>\n      <Filter\n      value={searchTerm}\n      onChange={searchTermChange}/>\n      <div><h2>Add new</h2></div>\n      <PersonForm \n      addNew = {addNew} \n      newName = {newName} \n      newNumber = {newNumber}\n      handleNameChange = {handleNameChange} \n      handleNumberChange = {handleNumberChange} \n      />\n      <h2>Numbers</h2>\n      <Persons\n      persons = {persons.filter(person => person.name.match(new RegExp(searchTerm, 'i')))}\n      onRemove = {handleRemove}\n      />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}